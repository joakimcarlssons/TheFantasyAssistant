@using TFA.Application.Interfaces.Services
@using TFA.Domain.Models
@inherits TFAComponentBase

<MudContainer Class="mt-16">

    @if(IsLoading)
    {
        <MudCardContent>
            <MudSkeleton Width="100%" Height="100px" />
            <MudCardActions>
                <MudSkeleton Width="400px" Height="200px" />
                <MudSkeleton Width="400px" Height="200px" Class="ml-4" />
                <MudSkeleton Width="400px" Height="200px" Class="ml-4" />
            </MudCardActions>
            <MudCardActions>
                <MudSkeleton Width="400px" Height="200px" />
                <MudSkeleton Width="400px" Height="200px" Class="ml-4" />
                <MudSkeleton Width="400px" Height="200px" Class="ml-4" />
            </MudCardActions>
        </MudCardContent>
    }
    else
    {
        <MudText>@(BaseData?.Players[0].DisplayName)</MudText>
    }

</MudContainer>

@code {
    protected override Task OnAfterRenderAsync(bool firstRender)
    {
        RegisterStateSubscriptions(StateKey.IsLoading, StateKey.BaseData);
        return base.OnAfterRenderAsync(firstRender);
    }
}